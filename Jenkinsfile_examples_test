#!groovy

parallel (

"gin" : {node ('gin')
        {
         deleteDir()
         checkout scm
         stage ('build_gin')
         {
          sh "./build.sh $WORKSPACE $NODE_NAME pdata && make install"
         }

         stage ('run_example_gin')
         {
          sh "cd example && make"
         }
       }},

"sb15" : {node ('sbalzarini-mac-15')
         {
          deleteDir()
          checkout scm
          stage ('build_sb15')
          {
           sh "export"
           sh "./build.sh $WORKSPACE $NODE_NAME pdata && make install"
          }

          stage ('run_example_sb15')
          {
           sh "cd example && make"
	  }
         }
         }
)

